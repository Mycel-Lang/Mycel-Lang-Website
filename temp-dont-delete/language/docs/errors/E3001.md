# Error E3001: Filesystem read access denied for a function

## Summary

This error occurs when a function attempts to read a file from the local filesystem that it has not been granted permission to access in the `mycel.toml` configuration file.

---

## The Problem

Similar to network access, filesystem access is denied by default for all functions. To read a file, a function must be explicitly granted read permission for that specific file or directory path in the project's `mycel.toml` file.

**File: `main.mycel`**
```mycel
// This function call will fail if permissions are not configured.
@readFile("./data/config.json")
```

**File: `mycel.toml`**
```toml
# No permissions are granted, so the call to @readFile will fail.
[tool.mycel.permissions]
```

## The Solution

Add an entry to your `mycel.toml` file that grants the function read permission for the desired file or directory.

**File: `mycel.toml` (Fixed)**
```toml
[tool.mycel.permissions]

# Grant the @readFile function read access to the "./data" directory.
"file://./data/*" = { permissions = ["read"], functions = ["@readFile"] }
```

---

## Detailed Explanation

Mycel's deny-by-default security model extends to the filesystem. This is crucial for preventing malicious or poorly-designed packages from reading sensitive files on your system (e.g., configuration files, private keys, etc.).

When a function attempts to open a file for reading, the compiler intercepts the call. It checks the file path against the permissions defined in `mycel.toml`. For a read operation to be successful, a rule must exist that:

1.  Matches the file path.
2.  Includes `"read"` in its `permissions` array.
3.  Includes the function's name in its `functions` array.

If no such rule is found, the request is denied, and the compiler reports error `E3001`. This ensures that no file is ever read without your explicit, audited consent in the configuration file.

When you encounter this error, you must decide if you trust the function with access to that part of your filesystem. If you do, add the appropriate permission to your `mycel.toml` file. You can grant access to a specific file or use a glob pattern (`*`) to grant access to a whole directory.
