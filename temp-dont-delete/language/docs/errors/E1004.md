# Error E1004: Invalid return type for a function

## Summary

This error occurs when a function returns a value that has a different type than what is specified in its return type annotation.

---

## The Problem

When you add a return type annotation to a function (e.g., `-> number`), you are making a promise to the compiler. You are guaranteeing that every possible return path from that function will yield a value of that specific type. If any `return` statement provides a value of a different type, the contract is broken.

```mycel
// This function promises to return a number.
fn getStatusCode() -> number {
  // But it is returning a string.
  return "404";
}
```

## The Solution

Ensure that the value you return from a function matches the return type specified in its signature.

```mycel
// Return a value of the correct type.
fn getStatusCode() -> number {
  return 404;
}

// Or, change the function's signature to match the value you want to return.
fn getStatusCodeString() -> string {
  return "404";
}
```

---

## Detailed Explanation

Return type annotations are a critical part of Mycel's type system. They allow the compiler to understand what kind of value a function will produce, which in turn allows it to check that you are using that function's output correctly elsewhere in your code.

For example, if you have a function `getPrice() -> number`, the compiler trusts that it can assign the result of that function to a variable of type `number` and perform mathematical operations on it.

If `getPrice()` were to return a string `"$100"` instead, it would cause a cascade of errors down the line. To prevent this, the compiler validates the contract at its source: inside the function itself. It checks every `return` statement to ensure the type of the returned value matches the function's declared return type. If it finds a mismatch, it reports error `E1004`.

When you encounter this error, you have two choices:

1.  Change the `return` statement to provide a value of the expected type.
2.  Change the function's return type annotation to match the type of the value you are actually returning.
