# Error E2002: Circular inclusion detected

## Summary

This error occurs when the compiler detects that a file is trying to include itself, either directly or indirectly, creating an infinite loop.

---

## The Problem

When the compiler processes an `@include` directive, it pauses processing the current file and starts processing the included file. If that included file (or a file it includes) eventually tries to include the original file again, it creates a cycle that would never end.

**Direct Circular Inclusion:**

**File: `a.mycel`**
```mycel
# This is file A.

// Tries to include itself.
@include("./a.mycel")
```

**Indirect Circular Inclusion:**

**File: `a.mycel`**
```mycel
# This is file A.

// Includes file B.
@include("./b.mycel")
```

**File: `b.mycel`**
```mycel
# This is file B.

// Which in turn includes file A, creating a loop.
@include("./a.mycel")
```

## The Solution

Remove the `@include` directive that creates the circular dependency. You need to restructure your files so that they have a clear, linear hierarchy (e.g., a main file including several components, but the components do not include the main file).

```mycel
// Remove the circular @include from b.mycel

// File a.mycel (no change)
# This is file A.
@include("./b.mycel")

// File b.mycel (fixed)
# This is file B.
// The include back to A has been removed.
```

---

## Detailed Explanation

Imagine you have two instruction manuals, A and B. Instruction A says, "To proceed, follow the instructions in manual B." Instruction B says, "To proceed, follow the instructions in manual A." You would be stuck in an infinite loop, flipping between the two manuals forever.

This is exactly what happens to the Mycel compiler when it detects a circular inclusion. To prevent itself from getting stuck in an infinite loop (which would consume all available memory and crash), the compiler keeps track of the chain of files it is currently processing. If it is asked to include a file that is already in that chain, it knows it has found a cycle. It immediately stops and reports error `E2002`.

To fix this, you need to rethink your document structure. Your includes should form a **Directed Acyclic Graph (DAG)**, meaning they flow in one direction and never loop back. Typically, you will have a main document that includes various smaller, self-contained "partial" or "component" files. These component files should not include each other in a circular way, and they should never include the main document.
