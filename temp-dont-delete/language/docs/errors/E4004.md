# Error E4004: Incompatible compiler version specified in manifest

## Summary

This error occurs when the `mycel.toml` file specifies a compiler version that is not compatible with the version of the `mycel-cli` tool you are currently using.

---

## The Problem

The `mycel.toml` file allows you to specify the version of the Mycel compiler your project is compatible with. This is a safety feature to ensure that your document is always built with a compiler that understands the syntax and features you are using. If there is a mismatch, the toolchain will stop.

**Scenario:**

1.  Your `mycel.toml` specifies that your project requires a future version of the compiler.
    ```toml
    [tool.mycel]
    # Your project needs features from version 2.0, but you are running version 1.5.
    compiler_version = ">=2.0.0"
    ```
2.  You are using an older version of the `mycel-cli` tool (e.g., version `1.5.0`).
3.  The tool sees that it does not satisfy the version requirement and reports an error.

## The Solution

Update your `mycel-cli` tool to a version that is compatible with the requirement in your `mycel.toml` file. Alternatively, if your project does not actually require the newer version, you can lower the version requirement in `mycel.toml`.

```sh
# Update your Mycel toolchain (exact command will depend on installation method)
update-mycel-cli
```

```toml
# Or, lower the requirement if your project is compatible with older versions.
[tool.mycel]
compiler_version = ">=1.5.0"
```

---

## Detailed Explanation

The `compiler_version` field in `mycel.toml` supports semantic versioning (SemVer) constraints. This allows you to lock your project to a specific version or a range of versions, preventing it from being compiled with an incompatible toolchain that could lead to bugs or incorrect output.

For example:

-   `compiler_version = "1.2.3"`: Requires exactly version 1.2.3.
-   `compiler_version = ">=1.2.0, <2.0.0"`: Requires any version from 1.2.0 up to (but not including) 2.0.0.

When you run `mycel-cli build`, one of the first things the tool does is check its own version against this constraint. If its version does not fall within the specified range, it reports error `E4004` and exits immediately.

This prevents situations where, for example, a new, backward-incompatible syntax is introduced in Mycel 2.0. If your project relies on this new syntax, setting `compiler_version = ">=2.0.0"` ensures that it will never be accidentally compiled with an older 1.x compiler that would not understand it.

To fix this, you should either upgrade your `mycel-cli` tool to a newer version or adjust the version constraint in `mycel.toml` to match the range you intend to support.
