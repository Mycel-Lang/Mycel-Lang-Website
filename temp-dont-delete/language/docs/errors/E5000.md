# Error E5000: Out of memory (OOM) during compilation

## Summary

This error occurs when the Mycel compiler consumes all available system memory (RAM) and is terminated by the operating system.

---

## The Problem

Compiling a very large or complex Mycel project can be a memory-intensive process. This can be caused by including huge files, performing complex data transformations in functions, or a bug in the compiler itself that leads to a memory leak.

```mycel
// Including a multi-gigabyte log file could exhaust system memory.
@include("./very-large-file.log")

// A recursive function without a proper base case can lead to infinite
// recursion, consuming memory on each call until it runs out.
fn recursiveFunction() {
  @recursiveFunction();
}
```

## The Solution

First, try to identify the source of the high memory usage. If you are including a very large file, try to reduce its size or process it in a different way. If you have complex functions, try to simplify them or introduce optimizations.

If the problem persists and you believe it is a bug in the compiler, you should file a bug report.

-   **Reduce included file size:** Can you filter the file before including it?
-   **Optimize functions:** Are there infinite loops or inefficient data structures in your functions?
-   **Increase available memory:** On some systems, you can increase the swap space or close other memory-intensive applications.

---

## Detailed Explanation

An Out of Memory (OOM) error is not a standard Mycel error, but rather a signal from the operating system that the compiler process has requested more memory than is available. The OS then kills the process to protect the stability of the overall system.

The Mycel toolchain catches this termination signal and reports it to you as error `E5000` to provide a more user-friendly explanation than a generic "Process killed" message.

Common causes within a Mycel project include:

1.  **Including Large Files:** Loading a very large file (e.g., hundreds of megabytes or gigabytes) directly into memory can quickly exhaust the available RAM.
2.  **Inefficient Functions:** A function that creates many large data structures or has a memory leak (in its underlying WASM implementation) can consume memory uncontrollably.
3.  **Infinite Recursion:** A function that calls itself without a proper exit condition will consume more and more memory on the call stack until it leads to a stack overflow (`E5001`) or an OOM error.

Debugging an OOM error can be difficult. Your first step should be to review any recent, large-scale changes to your project. Did you add a new, large data file? Did you write a complex new function? By isolating the change that introduced the problem, you can begin to address it.
