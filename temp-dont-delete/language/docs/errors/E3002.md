# Error E3002: Filesystem write access denied for a function

## Summary

This error occurs when a function attempts to write to or modify a file on the local filesystem that it has not been granted permission to access in the `mycel.toml` configuration file.

---

## The Problem

Write access to the filesystem is one of the most sensitive permissions a function can have. It is strictly denied by default. To create, modify, or delete a file, a function must be explicitly granted write permission for that specific file or directory path in `mycel.toml`.

**File: `main.mycel`**
```mycel
// This function call will fail because write access is denied by default.
@saveOutput("./output/result.txt", "some data")
```

**File: `mycel.toml`**
```toml
# No permissions are granted, so the call to @saveOutput will fail.
[tool.mycel.permissions]
```

## The Solution

Add an entry to your `mycel.toml` file that grants the function write permission for the desired file or directory.

**File: `mycel.toml` (Fixed)**
```toml
[tool.mycel.permissions]

# Grant the @saveOutput function write access to the "./output" directory.
"file://./output/*" = { permissions = ["write"], functions = ["@saveOutput"] }
```

---

## Detailed Explanation

Following the principle of least privilege, Mycel's security sandbox is extremely strict about write access. An unauthorized write could corrupt your project files, delete important data, or modify your system's configuration.

When a function attempts to open a file for writing, the compiler intercepts the call and performs a permission check. For the write to be allowed, a rule must exist in `mycel.toml` that:

1.  Matches the file path.
2.  Includes `"write"` in its `permissions` array.
3.  Includes the function's name in its `functions` array.

If no such rule exists, the compiler blocks the request and reports error `E3002`. This is a critical safety feature.

Granting write permission should be done with extreme caution. You should only grant it to functions you trust completely, and you should restrict the permission to the most specific directory possible. For example, it is much safer to grant write access to a dedicated `./output` directory than to the root of your project (`./*`).
