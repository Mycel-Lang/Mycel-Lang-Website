# Error E5002: Could not create output file or directory

## Summary

This error occurs when the Mycel compiler is unable to create the specified output directory or write the final, rendered file, usually due to a filesystem permissions issue.

---

## The Problem

After the compiler successfully processes your Mycel document, its final step is to write the output (e.g., an HTML or PDF file) to a specified location. This operation can fail if the compiler does not have permission to write to the target directory.

**Scenario:**

1.  You are trying to build your project to a protected directory.
    ```sh
    # Trying to output to `/usr/bin`, which is a system-protected directory.
    mycel-cli build --output /usr/bin/my-output.html
    ```
2.  The output directory's parent exists, but you do not have write permissions for it, so the compiler cannot create the new directory.
    ```sh
    # The `dist` directory is owned by another user or is read-only.
    mycel-cli build --output ./dist/my-output.html
    ```

## The Solution

Ensure that the path you provide to the `--output` flag points to a location where you have write permissions. Choose a directory within your user's home folder or project folder.

```sh
# Output to a directory within the project, which is usually writable.
mycel-cli build --output ./build/my-output.html
```

If the directory should be writable, you may need to fix its permissions using standard operating system commands.

```sh
# On Linux or macOS, grant write permissions to the current user.
chmod u+w ./dist
```

---

## Detailed Explanation

This error occurs at the very end of the compilation process. It indicates that all the parsing, processing, and function execution was successful, but the final result could not be saved.

This is almost always an issue with the operating system's filesystem permissions, not an error with your Mycel code itself. The user running the `mycel-cli build` command must have sufficient privileges to create files and directories at the specified output location.

When debugging this error, investigate the following:

1.  **The Output Path:** Is the path correct? Are you accidentally trying to write to a system directory?
2.  **Directory Permissions:** Check the permissions of the parent directory you are trying to write into. Do you have write access? Use `ls -ld ./path/to/parent` on Linux/macOS to check.
3.  **Disk Status:** Is the disk full? While less common, a full disk will also prevent new files from being created. Use `df -h` on Linux/macOS to check disk space.

By ensuring the output directory is valid and writable, the compiler will be able to save the final document.
