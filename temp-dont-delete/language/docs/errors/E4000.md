# Error E4000: Invalid mycel.toml configuration file

## Summary

This error occurs when the `mycel.toml` file contains invalid TOML syntax or when a required field is missing or has an incorrect type.

---

## The Problem

The `mycel.toml` file is the central manifest for your project, and it must follow a specific structure. If the file is malformed, the compiler cannot understand how to build your project, manage its dependencies, or enforce its security policy.

```toml
# Missing quotes around the project name, which is invalid TOML.
[project]
name = My Project
version = "1.0.0"

# The `permissions` table is misspelled.
[tool.mycel.permission]
"https://api.example.com" = ["@fetchData"]
```

## The Solution

Correct the syntax of your `mycel.toml` file. Ensure all strings are quoted, all tables and keys are spelled correctly, and all required fields are present.

```toml
# Corrected TOML syntax.
[project]
name = "My Project"
version = "1.0.0"

# Correctly spelled `permissions` table.
[tool.mycel.permissions]
"https://api.example.com" = ["@fetchData"]
```

---

## Detailed Explanation

The `mycel-cli` toolchain relies on the `mycel.toml` file for critical information. Before it can compile your document, it must first parse this file. This parsing can fail for two main reasons:

1.  **TOML Syntax Error:** The file is not valid TOML. This is often caused by missing quotes, incorrect date formats, or malformed table headers. The error message will usually include a specific parsing error from the underlying TOML parser.

2.  **Structural Error:** The file is valid TOML, but it does not conform to the structure that Mycel expects. This can happen if:
    *   A required table, like `[project]`, is missing.
    *   A required key, like `name` or `version`, is missing.
    *   A key has a value of the wrong type (e.g., `version = 1.0` instead of `version = "1.0.0"`).

When this error occurs, the compiler will stop before it even tries to read your `.mycel` source files. The error message will typically point to the specific line and column in the `mycel.toml` file that caused the problem, along with a hint about what is wrong.

To fix it, carefully review your `mycel.toml` file and compare it against the documentation to ensure all syntax is correct and all required fields are present.
